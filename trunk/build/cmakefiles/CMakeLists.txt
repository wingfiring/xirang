CMAKE_MINIMUM_REQUIRED(VERSION 2.6)

PROJECT(main)

SET(BOOST_INCLUDE /usr/local/include)
SET(BOOST_LINK /usr/local/lib)
SET(AIO_ROOT ${PROJECT_ROOT})
SET(EXECUTABLE_OUTPUT_PATH ../bin)
SET(LIBRARY_OUTPUT_PATH ../lib)

SET(BOOST_TEST boost_unit_test_framework)
SET(BOOST_FILESYSTEM boost_filesystem)
SET(BOOST_SYSTEM boost_system)
SET(PTHREAD  pthread)
SET(ZLIB  z)

option(BOOST_USE_STATIC "Use boost.test .so" OFF)
SET(Boost_USE_STATIC_LIBS ${BOOST_USE_STATIC})
SET(Boost_USE_MULTITHREADED ON)
if (!BOOST_USE_STATIC)
	add_definitions(-DUSE_BOOST_TEST_DYN_LINK)
endif()

SET(CMAKE_CXX_FLAGS			"$ENV{CXXFLAGS} -Wall -std=c++11")
SET(CMAKE_CXX_FLAGS_DEBUG	"$ENV{CXXFLAGS} -O0 -g -ggdb")
SET(CMAKE_CXX_FLAGS_RELEASE "$ENV{CXXFLAGS} -O3 ")
FIND_PACKAGE(Boost COMPONENTS unit_test_framework filesystem system)


ADD_SUBDIRECTORY(common)
ADD_SUBDIRECTORY(common_test)

ADD_SUBDIRECTORY(utility1)
ADD_SUBDIRECTORY(utility1_test)

ADD_SUBDIRECTORY(xirang)
#ADD_SUBDIRECTORY(xirang_test)

#ADD_SUBDIRECTORY(demo)

